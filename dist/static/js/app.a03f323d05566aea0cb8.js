webpackJsonp([1],{"1/oy":function(t,e){},"9M+g":function(t,e){},BI2Q:function(t,e){},GfHa:function(t,e){},Id91:function(t,e){},Jmt5:function(t,e){},MNQW:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),s=n("Dd8w"),o=n.n(s),r=n("NYxO"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("nav",{staticClass:"topnav"},[e("router-link",{staticClass:"spacing",attrs:{to:"/info/table"}},[this._v("Table")]),this._v(" "),e("router-link",{staticClass:"spacing",attrs:{to:"/info/rounds"}},[this._v("Rounds")])],1)])},staticRenderFns:[]};var c=n("VU/8")({name:"Nav"},i,!1,function(t){n("MNQW")},"data-v-7865deb6",null).exports,u=n("ZZvs"),l=n.n(u),d=(n("SYh3"),{name:"App",components:{Nav:c,Loading:l.a},computed:o()({},Object(r.c)({league:function(t){return t.league}})),mounted:function(){this.prepareData()},methods:o()({},Object(r.b)("league",{loadData:"load"}),{prepareData:function(){this.loadData()}})}),f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("loading",{attrs:{active:!1===t.league.ready,"can-cancel":!1,"is-full-page":!0},on:{"update:active":function(e){t.$set(t.league,"ready === false",e)}}}),t._v(" "),n("Nav"),t._v(" "),n("router-view")],1)},staticRenderFns:[]};var p=n("VU/8")(d,f,!1,function(t){n("he2q")},null,null).exports,h=n("mvHQ"),v=n.n(h),m=n("mtWM"),g=(n.n(m).a.create({baseURL:"http://s3.eu-central-1.amazonaws.com"}),{loadData:function(){return fetch("https://cors-anywhere.herokuapp.com/http://s3.eu-central-1.amazonaws.com/js-assignment/data.json").then(function(t){return t.json()}).then(function(t){return console.table(t),v()(t)}).catch(function(t){return t})}});var b=n("aFK5"),_=n.n(b),w=n("fZjL"),C=n.n(w),y={prepareTable:function(t){for(var e,n=[],a=JSON.parse(t)[0].matches,s=0;e=a[s++];){var o=C()(e);(n=n.concat(o)).concat(o)}return function(t){for(var e=[],n=0;n<t.length;n++){var a=new j(t[n],n+1);e.push(a)}return new function(t){this.clubs=t,this.fields=_()(t[0]).map(function(t){return{key:t,sortable:!0}})}(e)}(n)},processTable:function(t,e){for(var n,a=JSON.parse(t),s=[],o=0;n=a[o++];){for(var r,i=[],c=new T(o,i),u=0;r=n.matches[u++];){var l=C()(r),d=l[0],f=l[1],p=r[d],h=r[f],v=N(e,d),m=N(e,f),g=new k(d,p,f,h);i.push(g),R(v,p,m,h),e.clubs.sort(S);for(var b,_=0;b=e.clubs[_++];)b.position=_}s.push(c)}return s}};function S(t,e){return t.points<e.points?1:t.points>e.points?-1:t.goals_difference<e.goals_difference?1:t.goals_difference>e.goals_difference?-1:t.goals_for<e.goals_for?1:t.goals_for>e.goals_for?-1:0}function N(t,e){return t.clubs.find(function(t){return t.team===e})}function R(t,e,n,a){e>a?(t.points=t.points+3,t.won++,n.lost++):e<a?(n.points=n.points+3,n.won++,t.lost++):(t.points=t.points+1,n.points=n.points+1,t.drawn++,n.drawn++),t.goals_for+=e,t.goals_against+=a,n.goals_for+=a,n.goals_against+=e,t.goals_difference=t.goals_for-t.goals_against,n.goals_difference=n.goals_for-n.goals_against}function k(t,e,n,a){this.club1=t,this.club2=n,this.score1=e,this.score2=a}function T(t,e){this.number=t,this.matches=e}function j(t,e){this.team=t,this.position=e,this.won=0,this.drawn=0,this.lost=0,this.goals_for=0,this.goals_against=0,this.goals_difference=0,this.points=0}var D={namespaced:!0,state:{ready:!1,table:[],rounds:[],message:""},actions:{load:function(t){t.dispatch;var e=t.commit,n=localStorage.getItem("table"),a=localStorage.getItem("rounds");n?e("setData",{table:n,rounds:a}):g.loadData().then(function(t){e("prepareTable",t)},function(t){e("loadFailure",t)})}},mutations:{prepareTable:function(t,e){var n=y.prepareTable(e),a=y.processTable(e,n);localStorage.setItem("table",v()(n)),localStorage.setItem("rounds",v()(a)),t.message="",t.table=n,t.rounds=a,t.ready=!0},setData:function(t,e){var n=e.table,a=e.rounds;console.log(a),t.message="",t.table=JSON.parse(n),t.rounds=JSON.parse(a),t.ready=!0},loadFailure:function(t,e){t.message=e.message,t.ready=!0}}};a.a.use(r.a);var O=new r.a.Store({modules:{league:D}}),I=n("/ocq"),F={name:"LeaderBoard",computed:o()({},Object(r.c)({clubs:function(t){return t.league.table.clubs},fields:function(t){return t.league.table.fields}}))},J={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h2",[this._v("\n    Clubs - English Premier ligue 16/17\n")]),this._v(" "),e("b-table",{staticClass:"leaderTable",attrs:{striped:"",hover:"",items:this.clubs,fields:this.fields}})],1)},staticRenderFns:[]};var x=n("VU/8")(F,J,!1,function(t){n("bTRo")},"data-v-9eec5d9e",null).exports,M={name:"Rounds",data:function(){return{key:0,matches:[]}},computed:o()({},Object(r.c)({rounds:function(t){return t.league.rounds}}),{dropValue:function(){return console.log(this.key),0===this.key?"Select round":"Round "+this.key.toString()}}),methods:{onChange:function(t){this.key=t.number,this.matches=t.matches}}},Q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("\n  Rounds\n")]),t._v(" "),n("div",{staticClass:"container"},[n("b-dropdown",{staticClass:"dropDown",attrs:{text:t.dropValue,offset:"225",right:""}},t._l(t.rounds,function(e){return n("div",{staticClass:"dropItem"},[n("b-dropdown-item",{on:{click:function(n){t.onChange(e)}}},[t._v(t._s(e.number))]),t._v(" "),n("b-dropdown-divider")],1)}),0)],1),t._v(" "),0!==this.matches.length?n("div",{staticClass:"matches"},t._l(t.matches,function(e){return n("div",{staticClass:"match"},[n("div",{staticClass:"club"},[t._v(t._s(e.club1))]),t._v(" "),n("div",{staticClass:"score"},[t._v(t._s(e.score1)+":"+t._s(e.score2))]),t._v(" "),n("div",{staticClass:"club"},[t._v(t._s(e.club2))])])}),0):t._e()])},staticRenderFns:[]};var V=n("VU/8")(M,Q,!1,function(t){n("BI2Q")},"data-v-0edcaa17",null).exports;a.a.use(I.a);var E=new I.a({routes:[{path:"/",component:x,redirect:"/info/table"},{path:"/info",component:x,redirect:"/info/table"},{path:"/info/table",name:"LeaderBoard",component:x},{path:"/info/rounds",name:"Rounds",component:V}]}),L=(n("Jmt5"),n("9M+g"),n("e6fC"));a.a.use(L.a),a.a.config.productionTip=!1,new a.a({el:"#app",router:E,store:O,components:{App:p},template:"<App/>"})},SYh3:function(t,e){},bTRo:function(t,e){},he2q:function(t,e){},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.a03f323d05566aea0cb8.js.map